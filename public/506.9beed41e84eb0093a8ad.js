"use strict";(self.webpackChunkgym_app_front=self.webpackChunkgym_app_front||[]).push([[506],{1506:(St,v,s)=>{s.r(v),s.d(v,{ProtectedModule:()=>gt});var m=s(8583),Z=s(6489),U=s(3356),f=s(4655),I=s(6686),t=s(7716),w=s(6518);const B=new I.N0;let H=(()=>{class i{constructor(e,a){this.authService=e,this.router=a,this.rols=[],this.isAdmin=!1}canActivate(){let e=localStorage.getItem("token"),a=B.decodeToken(e);this.rols=a.rols;for(let n=0;n<this.rols.length;n++)"ADMIN_ROLE"===this.rols[n].nombre?(this.isAdmin=!0,console.log("Guard admin",this.isAdmin)):(this.isAdmin=!1,console.log("Guard admin",this.isAdmin));return this.isAdmin}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(w.e),t.LFG(f.F0))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var A=s(1769),O=s(1095);let N=(()=>{class i{constructor(e,a){this.router=e,this.authService=a}ngOnInit(){this.usuario=this.authService.usuario}logout(){this.router.navigateByUrl("/auth"),this.authService.logout()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(f.F0),t.Y36(w.e))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-dashboard"]],decls:12,vars:3,consts:[["mat-button","",3,"click"]],template:function(e,a){1&e&&(t.TgZ(0,"h1"),t._uU(1,"Dashboard"),t.qZA(),t._UZ(2,"mat-divider"),t.TgZ(3,"p"),t._uU(4,"Solo autenticado"),t.qZA(),t.TgZ(5,"h4"),t._uU(6,"User info"),t.qZA(),t.TgZ(7,"pre"),t._uU(8),t.ALo(9,"json"),t.qZA(),t.TgZ(10,"button",0),t.NdJ("click",function(){return a.logout()}),t._uU(11,"Logout"),t.qZA()),2&e&&(t.xp6(8),t.hij(" ",t.lcZ(9,1,a.usuario)," "))},directives:[A.d,O.lW],pipes:[m.Ts],styles:["*[_ngcontent-%COMP%]{margin:10px}"]}),i})();var C=s(4457),b=(s(9238),s(9490)),h=(s(6461),s(2458)),T=s(9765);s(6682),s(7238);const E=new t.OlP("MAT_SORT_DEFAULT_OPTIONS"),k=(0,h.dB)((0,h.Id)(class{}));let x=(()=>{class i extends k{constructor(e){super(),this._defaultOptions=e,this.sortables=new Map,this._stateChanges=new T.xQ,this.start="asc",this._direction="",this.sortChange=new t.vpe}get direction(){return this._direction}set direction(e){this._direction=e}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=(0,b.Ig)(e)}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){var a,n,d;if(!e)return"";const S=null!==(n=null!==(a=null==e?void 0:e.disableClear)&&void 0!==a?a:this.disableClear)&&void 0!==n?n:!!(null===(d=this._defaultOptions)||void 0===d?void 0:d.disableClear);let p=function(i,r){let e=["asc","desc"];return"desc"==i&&e.reverse(),r||e.push(""),e}(e.start||this.start,S),_=p.indexOf(this.direction)+1;return _>=p.length&&(_=0),p[_]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(E,8))},i.\u0275dir=t.lG2({type:i,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"],active:["matSortActive","active"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[t.qOj,t.TTD]}),i})();var c=s(2789);var $=s(1841);let q=(()=>{class i{constructor(e){this.http=e,this.baseUrl="https://gym-app-beta.herokuapp.com/api"}listUsuarios(){return this.http.get(`${this.baseUrl}/user/clientes`)}}return i.\u0275fac=function(e){return new(e||i)(t.LFG($.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var G=s(2178),y=s(8295),z=s(9983);function X(i,r){1&i&&t._UZ(0,"mat-progress-bar",2)}function W(i,r){1&i&&(t.TgZ(0,"th",21),t._uU(1,"N\xb0"),t.qZA())}function K(i,r){if(1&i&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&i){const e=r.index;t.xp6(1),t.Oqu(e+1)}}function tt(i,r){1&i&&(t.TgZ(0,"th",23),t._uU(1," Nombre "),t.qZA())}function et(i,r){if(1&i&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.Oqu(e.nombre)}}function it(i,r){1&i&&(t.TgZ(0,"th",24),t._uU(1,"Apellido"),t.qZA())}function ot(i,r){if(1&i&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.Oqu(e.apellido)}}function rt(i,r){1&i&&(t.TgZ(0,"th",24),t._uU(1,"Dni"),t.qZA())}function at(i,r){if(1&i&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.Oqu(e.dni)}}function nt(i,r){1&i&&(t.TgZ(0,"th",24),t._uU(1,"Activo"),t.qZA())}function st(i,r){1&i&&(t.TgZ(0,"span",27),t._uU(1,"circle"),t.qZA())}function ct(i,r){1&i&&(t.TgZ(0,"span",28),t._uU(1,"circle"),t.qZA())}function dt(i,r){if(1&i&&(t.TgZ(0,"td",22),t.YNc(1,st,2,0,"span",25),t.YNc(2,ct,2,0,"span",26),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf",e.estado),t.xp6(1),t.Q6J("ngIf",!e.estado)}}function lt(i,r){1&i&&t._UZ(0,"tr",29)}function ht(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"tr",30),t.NdJ("click",function(){const d=t.CHM(e).$implicit;return t.oxw(2).verDetalles(d.uid)}),t.qZA()}}function ut(i,r){if(1&i&&(t.TgZ(0,"tr",31),t.TgZ(1,"td",32),t._uU(2),t.qZA(),t.qZA()),2&i){t.oxw();const e=t.MAs(4);t.xp6(2),t.hij(' No se encontr\xf3 ningun resultado de: "',e.value,'" ')}}const mt=function(){return[5,10,25,100]};function pt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"mat-form-field",3),t.TgZ(1,"mat-label"),t._uU(2,"Buscar..."),t.qZA(),t.TgZ(3,"input",4,5),t.NdJ("keyup",function(n){return t.CHM(e),t.oxw().filtro(n)}),t.qZA(),t.qZA(),t.TgZ(5,"div",6),t.TgZ(6,"table",7),t.ynx(7,8),t.YNc(8,W,2,0,"th",9),t.YNc(9,K,2,1,"td",10),t.BQk(),t.ynx(10,11),t.YNc(11,tt,2,0,"th",12),t.YNc(12,et,2,1,"td",10),t.BQk(),t.ynx(13,13),t.YNc(14,it,2,0,"th",14),t.YNc(15,ot,2,1,"td",10),t.BQk(),t.ynx(16,15),t.YNc(17,rt,2,0,"th",14),t.YNc(18,at,2,1,"td",10),t.BQk(),t.ynx(19,16),t.YNc(20,nt,2,0,"th",14),t.YNc(21,dt,3,2,"td",10),t.BQk(),t.YNc(22,lt,1,0,"tr",17),t.YNc(23,ht,1,0,"tr",18),t.YNc(24,ut,3,1,"tr",19),t.qZA(),t._UZ(25,"mat-paginator",20),t.qZA()}if(2&i){const e=t.oxw();t.xp6(6),t.Q6J("dataSource",e.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(4,mt))}}const _t=[{path:"",children:[{path:"",component:N},{path:"usuarios",component:(()=>{class i{constructor(e){this.userService=e,this.spinner=!0,this.displayedColumns=["indice","nombre","apellido","dni","estado"]}ngOnInit(){this.userService.listUsuarios().subscribe(e=>{this.usuarios=e.usuarios,this.total=e.total,this.dataSource=new c.by(this.usuarios),this.dataSource&&(this.spinner=!1,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort)})}filtro(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}verDetalles(e){console.log("uid:",e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(q))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-lista-usuarios"]],viewQuery:function(e,a){if(1&e&&(t.Gf(C.NW,5),t.Gf(x,5)),2&e){let n;t.iGM(n=t.CRH())&&(a.paginator=n.first),t.iGM(n=t.CRH())&&(a.sort=n.first)}},decls:6,vars:2,consts:[["mode","indeterminate",4,"ngIf","ngIfElse"],["table",""],["mode","indeterminate"],["appearance","standard"],["matInput","","placeholder","Por nombre, apellido, o dni",3,"keyup"],["input",""],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","indice"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nombre"],["mat-header-cell","","mat-sort-header","nombre",4,"matHeaderCellDef"],["matColumnDef","apellido"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","dni"],["matColumnDef","estado"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina de usuarios",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","","mat-sort-header","nombre"],["mat-header-cell","","mat-sort-header",""],["class","material-icons green-color",4,"ngIf"],["class","material-icons red-color",4,"ngIf"],[1,"material-icons","green-color"],[1,"material-icons","red-color"],["mat-header-row",""],["mat-row","",3,"click"],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,a){if(1&e&&(t.TgZ(0,"h1"),t._uU(1,"Lista de clientes"),t.qZA(),t._UZ(2,"mat-divider"),t.YNc(3,X,1,0,"mat-progress-bar",0),t.YNc(4,pt,26,5,"ng-template",null,1,t.W1O)),2&e){const n=t.MAs(5);t.xp6(3),t.Q6J("ngIf",a.spinner)("ngIfElse",n)}},directives:[A.d,m.O5,G.pW,y.KE,y.hX,z.Nt,c.BZ,c.w1,c.fO,c.Dz,c.as,c.nj,c.Ee,C.NW,c.ge,c.ev,c.XQ,c.Gk],styles:["table[_ngcontent-%COMP%]{width:100%}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:25%}.mat-row[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#bbbbbba6}.green-color[_ngcontent-%COMP%]{color:green;text-shadow:0 0 15px #4dc247;transition:all .5s ease}.red-color[_ngcontent-%COMP%]{color:red;text-shadow:0 0 15px #f04838;transition:all .5s ease}"]}),i})(),canActivate:[H]},{path:"**",redirectTo:""}]}];let ft=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[f.Bz.forChild(_t)],f.Bz]}),i})(),gt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[m.ez,ft,Z.q,U.o9]]}),i})()}}]);